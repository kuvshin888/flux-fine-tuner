# üéâ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–æ–±—É—á–µ–Ω–∏—è LoRA!

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–¢–µ–ø–µ—Ä—å –≤–∞—à —Ñ–æ—Ä–∫ [flux-dev-lora-trainer](https://replicate.com/ostris/flux-dev-lora-trainer/train) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–¥–æ–æ–±—É—á–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö LoRA** –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å –Ω—É–ª—è!

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üîÑ **–î–æ–æ–±—É—á–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö LoRA** - –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ LoRA –∏ —É–ª—É—á—à–∞–π—Ç–µ –∏—Ö
- üé® **–ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π** - –±–µ—Ä–∏—Ç–µ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—É—é LoRA –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ –ø–µ–π–∑–∞–∂–∏  
- ‚ö° **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –Ω–µ –Ω–∞—á–∏–Ω–∞–π—Ç–µ –æ–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è
- üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ optimizer** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º

## üÜï –ù–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ Replicate API

### `pretrained_lora_url`
URL –≥–æ—Ç–æ–≤–æ–π LoRA –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
https://huggingface.co/user/model/resolve/main/lora.safetensors
```

**–ü—Ä–∏–º–µ—Ä—ã:**
- `https://huggingface.co/fofr/flux-80s-cyberpunk/resolve/main/lora.safetensors`
- `https://huggingface.co/alvdansen/flux-koda/resolve/main/lora.safetensors`

### `keep_optimizer_for_resume`
- `false` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - —É–¥–∞–ª–∏—Ç—å optimizer –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞
- `true` - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å optimizer.pt –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—É–¥—É—â–µ–≥–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ Replicate

### –ë–∞–∑–æ–≤–æ–µ –¥–æ–æ–±—É—á–µ–Ω–∏–µ
```json
{
  "input_images": "https://example.com/my_images.zip",
  "pretrained_lora_url": "https://huggingface.co/fofr/flux-80s-cyberpunk/resolve/main/lora.safetensors",
  "trigger_word": "NEWSTYLE",
  "steps": 500,
  "learning_rate": 0.0002
}
```

### –£–ª—É—á—à–µ–Ω–∏–µ –Ω–µ–¥–æ–æ–±—É—á–µ–Ω–Ω–æ–π LoRA
```json
{
  "input_images": "https://example.com/more_data.zip",
  "pretrained_lora_url": "https://huggingface.co/myuser/underfitted-lora/resolve/main/lora.safetensors",
  "trigger_word": "SAMESTYLE", 
  "steps": 1000,
  "learning_rate": 0.0001,
  "keep_optimizer_for_resume": true
}
```

### –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—Ç–∏–ª—è
```json
{
  "input_images": "https://example.com/landscapes.zip",
  "pretrained_lora_url": "https://huggingface.co/portraits/amazing-portraits/resolve/main/lora.safetensors",
  "trigger_word": "LANDSCP",
  "steps": 800,
  "learning_rate": 0.0003
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º:
1. **–ó–∞–≥—Ä—É–∑–∫–∞** - –≥–æ—Ç–æ–≤–∞—è LoRA –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å HuggingFace
2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –≤–µ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤–æ–π —Å–µ—Ç–∏ 
3. **–û–±—É—á–µ–Ω–∏–µ** - –Ω–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å —ç—Ç–∏—Ö –≤–µ—Å–æ–≤
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç** - —É–ª—É—á—à–µ–Ω–Ω–∞—è LoRA —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å [ai-toolkit](https://github.com/ostris/ai-toolkit)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å Weights & Biases
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ README –¥–ª—è HuggingFace

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

–ü—Ä–∏ –¥–æ–æ–±—É—á–µ–Ω–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

```
üîÑ –†–µ–∂–∏–º –¥–æ–æ–±—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤–æ–π LoRA –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
Downloading pretrained LoRA from: https://huggingface.co/...
‚úÖ –ì–æ—Ç–æ–≤–∞—è LoRA –∑–∞–≥—Ä—É–∂–µ–Ω–∞: /path/to/pretrained_lora.safetensors
üîó –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –¥–æ–æ–±—É—á–µ–Ω–∏–µ —Å –≥–æ—Ç–æ–≤–æ–π LoRA
üöÄ –ó–∞–ø—É—Å–∫ –¥–æ–æ–±—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤–æ–π LoRA
   üìÅ –ò—Å—Ö–æ–¥–Ω–∞—è LoRA: https://huggingface.co/...
   üéØ –ù–æ–≤—ã–π —Ç—Ä–∏–≥–≥–µ—Ä: NEWSTYLE
   üìä –®–∞–≥–æ–≤ –æ–±—É—á–µ–Ω–∏—è: 500
   üìà Learning rate: 2e-4

[–ü—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è...]

üéâ –î–æ–æ–±—É—á–µ–Ω–∏–µ LoRA –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
   üìÅ –ò—Å—Ö–æ–¥–Ω–∞—è LoRA: https://huggingface.co/...
   ‚ú® –†–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∞—è LoRA: 15.2 MB  
   üéØ –¢—Ä–∏–≥–≥–µ—Ä-—Å–ª–æ–≤–æ: NEWSTYLE
   üìä –í—ã–ø–æ–ª–Ω–µ–Ω–æ —à–∞–≥–æ–≤: 500
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤**: –¢–æ–ª—å–∫–æ `.safetensors` —Ñ–∞–π–ª—ã
2. **–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: –¢–æ–ª—å–∫–æ HuggingFace URLs  
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å `skip_training_and_use_pretrained_hf_lora_url`
4. **–ü–∞–º—è—Ç—å**: –¢—Ä–µ–±—É–µ—Ç —Å—Ç–æ–ª—å–∫–æ –∂–µ VRAM, —Å–∫–æ–ª—å–∫–æ –æ–±—ã—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ

## üöÄ –ü–æ–ª—å–∑–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** - –¥–æ–æ–±—É—á–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –æ–±—É—á–µ–Ω–∏–µ —Å –Ω—É–ª—è
- **–õ—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —Å—Ç–∞—Ä—Ç—É–µ—Ç–µ —Å —É–∂–µ —Ö–æ—Ä–æ—à–µ–π –±–∞–∑—ã
- **–ì–∏–±–∫–æ—Å—Ç—å** - –º–æ–∂–µ—Ç–µ –º–µ–Ω—è—Ç—å –ª—é–±—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π** - —Å–º–µ—à–∏–≤–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

## üìù –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `train.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ª–æ–≥–∏–∫–∞ –¥–æ–æ–±—É—á–µ–Ω–∏—è
- ‚úÖ `LORA_FINE_TUNING.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `test_lora_fine_tuning.py` - —Ç–µ—Å—Ç—ã –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `download_pretrained_lora_for_training()` - –∑–∞–≥—Ä—É–∑–∫–∞ –≥–æ—Ç–æ–≤–æ–π LoRA
- –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è `train()` - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–æ–±—É—á–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è `handle_hf_readme()` - —É–ª—É—á—à–µ–Ω–Ω—ã–µ README

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í–∞—à —Ñ–æ—Ä–∫ —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ–æ–±—É—á–µ–Ω–∏–µ LoRA –Ω–∞ Replicate. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:

1. –í—ã–±–∏—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—É—é LoRA —Å HuggingFace
2. –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å–≤–æ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è  
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è
4. –ü–æ–ª—É—á–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é LoRA –∑–∞ –º–µ–Ω—å—à–µ–µ –≤—Ä–µ–º—è

**–£–¥–∞—á–Ω–æ–≥–æ –¥–æ–æ–±—É—á–µ–Ω–∏—è!** üöÄ 